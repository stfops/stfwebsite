"use strict";function _createForOfIteratorHelper(e,r){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){a&&(e=a);var t=0,s=function(){};return{s:s,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){i=!0,n=e},f:function(){try{o||null==a.return||a.return()}finally{if(i)throw n}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,t=new Array(r);a<r;a++)t[a]=e[a];return t}!function(o){var e,r=_createForOfIteratorHelper(document.querySelector("ul.navbar-nav").children);try{for(r.s();!(e=r.n()).done;){var a=e.value,t=a.innerText.toLowerCase().replace(/[^A-Za-z0-9]/g,"");a.querySelector("ul")&&(a.querySelector("a").setAttribute("aria-controls","nav-"+t),a.querySelector("ul").id="nav-"+t)}}catch(e){r.e(e)}finally{r.f()}o(".menu-item").on("keydown",function(e){var r,a=o(this).closest(".top-level-nav"),t=o(e.currentTarget),s=t.closest(".dropdown"),n=t.closest(".dropdown-menu");switch(e.code){case"ArrowDown":case"ArrowRight":r=a.nextAll("li"),e.preventDefault(),e.stopPropagation(),t.hasClass("top-level-nav")&&t.hasClass("show")?s.find("li").first().find("a").first().trigger("focus"):t.hasClass("top-level-nav")?r.first().find("a").first().trigger("focus"):!t.hasClass("top-level-nav")&&t.parents().hasClass("megamenu-nav")?t.parents().hasClass("depth-1")?(t.parent().children("li").last().parent().parent().next("li").find("a").first().trigger("focus"),t.next("li").find("a").trigger("focus")):t.parents().hasClass("depth-0")&&!t.children().hasClass("depth-1")?t.next("li").find("a").trigger("focus"):t.parents().hasClass("depth-0")&&!t.parents().hasClass("depth-1")&&t.find("ul li").first().find("a").trigger("focus"):t.next("li").find("a").trigger("focus");break;case"ArrowUp":case"ArrowLeft":r=a.prevAll("li"),e.preventDefault(),e.stopPropagation(),t.hasClass("top-level-nav")?(r.first().find("a").first().trigger("focus"),o(".dropdown-menu").removeClass("show"),o(".dropdown").removeClass("show")):!t.hasClass("top-level-nav")&&t.parents().hasClass("megamenu-nav")?t.parents().hasClass("depth-1")?(t.parent().children("li").first().parent().parent().find("a").first().trigger("focus"),t.prev("li").find("a").trigger("focus")):t.parents().hasClass("depth-0")&&!t.children().hasClass("depth-1")?t.prev("li").find("a").trigger("focus"):t.parents().hasClass("depth-0")&&!t.parents().hasClass("depth-1")&&t.prev("li").find("a").last().trigger("focus"):t.prev("li").find("a").trigger("focus");break;case"Space":e.preventDefault(),e.stopPropagation(),t.hasClass("top-level-nav")&&t.hasClass("dropdown")?(t.toggleClass("show"),t.find("ul").toggleClass("show"),t.find("ul").hasClass("show")?t.find(".dropdown-toggle").attr("aria-expanded","true"):t.find(".dropdown-toggle").attr("aria-expanded","false")):(t.hasClass("top-level-nav")&&t.hasClass("dropdown"),o("a").removeAttr("aria-current"),t.find("a").first().trigger("focus").attr("aria-current","page"));break;case"Home":e.preventDefault(),e.stopPropagation(),t.hasClass("top-level-nav")?a.parent().children("li").first().find("a").trigger("focus"):t.parents().hasClass("classic-menu-nav")?n.children("li").first().find("a").trigger("focus"):t.parents().hasClass("megamenu-nav")&&n.find(".row").first().find("li").first().find("a").first().trigger("focus");break;case"End":e.preventDefault(),e.stopPropagation(),t.hasClass("top-level-nav")?a.parent().children("li").last().find("a").trigger("focus"):t.parents().hasClass("classic-menu-nav")?n.children("li").last().find("a").trigger("focus"):t.parents().hasClass("megamenu-nav")&&n.find(".row").last().find("li").last().find("a").last().trigger("focus");break;case"Escape":t.find(".dropdown-toggle").removeClass("show"),t.find(".dropdown-toggle").attr("aria-expanded","false"),t.find(".dropdown-toggle").trigger("focus")}})}(jQuery);